{"version":3,"sources":["../../src/oracle/select1.js"],"names":["oracledb","require","dbConfig","getConnection","user","password","connectString","err","connection","console","error","message","execute","result","doRelease","log","metaData","rows","close"],"mappings":";;AAAA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,WAAWD,QAAQ,eAAR,CAAf;;AAEA;AACAD,SAASG,aAAT,CACE;AACEC,QAAgBF,SAASE,IAD3B;AAEEC,YAAgBH,SAASG,QAF3B;AAGEC,iBAAgBJ,SAASI;AAH3B,CADF,EAME,UAASC,GAAT,EAAcC,UAAd,EACA;AACE,MAAID,GAAJ,EAAS;AACPE,YAAQC,KAAR,CAAcH,IAAII,OAAlB;AACA;AACD;AACDH,aAAWI,OAAX;AACE;AACE,4CAFJ;;AAIE;AACA,IALF;;AAOE;AACA;AACA;;AAEA;AACA,YAASL,GAAT,EAAcM,MAAd,EACA;AACE,QAAIN,GAAJ,EAAS;AACPE,cAAQC,KAAR,CAAcH,IAAII,OAAlB;AACAG,gBAAUN,UAAV;AACA;AACD;AACDC,YAAQM,GAAR,CAAYF,OAAOG,QAAnB,EANF,CAMgC;AAC9BP,YAAQM,GAAR,CAAYF,OAAOI,IAAnB,EAPF,CAOgC;AAC9BH,cAAUN,UAAV;AACD,GAtBH;AAuBD,CAnCH;;AAqCA;AACA,SAASM,SAAT,CAAmBN,UAAnB,EACA;AACEA,aAAWU,KAAX,CACE,UAASX,GAAT,EAAc;AACZ,QAAIA,GAAJ,EAAS;AACPE,cAAQC,KAAR,CAAcH,IAAII,OAAlB;AACD;AACF,GALH;AAMD","file":"select1.js","sourcesContent":["/* Copyright (c) 2015, 2016, Oracle and/or its affiliates. All rights reserved. */\r\n\r\n/******************************************************************************\r\n *\r\n * You may not use the identified files except in compliance with the Apache\r\n * License, Version 2.0 (the \"License.\")\r\n *\r\n * You may obtain a copy of the License at\r\n * http://www.apache.org/licenses/LICENSE-2.0.\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\r\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n *\r\n * NAME\r\n *   select1.js\r\n *\r\n * DESCRIPTION\r\n *   Executes a basic query without using a connection pool or ResultSet.\r\n *   Uses Oracle's sample HR schema.\r\n *\r\n *   Scripts to create the HR schema can be found at:\r\n *   https://github.com/oracle/db-sample-schemas\r\n *\r\n *   For a connection pool example see webapp.js\r\n *   For a ResultSet example see resultset2.js\r\n *   For a query stream example see selectstream.js\r\n *   For a Promise example see promises.js\r\n *\r\n *****************************************************************************/\r\n\r\nvar oracledb = require('oracledb');\r\nvar dbConfig = require('./dbconfig.js');\r\n\r\n// Get a non-pooled connection\r\noracledb.getConnection(\r\n  {\r\n    user          : dbConfig.user,\r\n    password      : dbConfig.password,\r\n    connectString : dbConfig.connectString\r\n  },\r\n  function(err, connection)\r\n  {\r\n    if (err) {\r\n      console.error(err.message);\r\n      return;\r\n    }\r\n    connection.execute(\r\n      // The statement to execute\r\n        \"select * from X$USERS t order by xu$name\",\r\n\r\n      // The \"bind value\" 180 for the \"bind variable\" :id\r\n      [],\r\n\r\n      // Optional execute options argument, such as the query result format\r\n      // or whether to get extra metadata\r\n      // { outFormat: oracledb.OBJECT, extendedMetaData: true },\r\n\r\n      // The callback function handles the SQL execution results\r\n      function(err, result)\r\n      {\r\n        if (err) {\r\n          console.error(err.message);\r\n          doRelease(connection);\r\n          return;\r\n        }\r\n        console.log(result.metaData); // [ { name: 'DEPARTMENT_ID' }, { name: 'DEPARTMENT_NAME' } ]\r\n        console.log(result.rows);     // [ [ 180, 'Construction' ] ]\r\n        doRelease(connection);\r\n      });\r\n  });\r\n\r\n// Note: connections should always be released when not needed\r\nfunction doRelease(connection)\r\n{\r\n  connection.close(\r\n    function(err) {\r\n      if (err) {\r\n        console.error(err.message);\r\n      }\r\n    });\r\n}\r\n"]}