{"version":3,"sources":["../../src/oracle/version.js"],"names":["oracledb","require","dbConfig","addonVer","clientVer","serverVer","major","minor","update","port","portUpdate","console","log","Date","process","version","Math","floor","oracleClientVersion","getConnection","user","password","connectString","err","connection","error","message","oracleServerVersion"],"mappings":";;AAAA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;AAuBA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,WAAWD,QAAQ,eAAR,CAAf;;AAEA,IAAIE,QAAJ,EAAcC,SAAd,EAAyBC,SAAzB;AACA,IAAIC,KAAJ,EAAWC,KAAX,EAAkBC,MAAlB,EAA0BC,IAA1B,EAAgCC,UAAhC;;AAEAC,QAAQC,GAAR,CAAY,aAAa,IAAIC,IAAJ,EAAzB;AACAF,QAAQC,GAAR,CAAY,sBAAsBE,QAAQC,OAA1C;;AAEAZ,WAAWH,SAASe,OAApB;AACAT,QAAQU,KAAKC,KAAL,CAAWd,WAAW,KAAtB,CAAR;AACAI,QAAQS,KAAKC,KAAL,CAAWd,WAAW,GAAtB,IAA6B,GAArC;AACAK,SAASL,WAAW,GAApB;AACAQ,QAAQC,GAAR,CAAY,4BAA4BT,QAAxC;AACAQ,QAAQC,GAAR,CAAY,gCAAgCN,KAAhC,GAAwC,GAAxC,GAA8CC,KAA9C,GAAsD,GAAtD,GAA4DC,MAAxE;;AAEAJ,YAAYJ,SAASkB,mBAArB;AACAZ,QAAQU,KAAKC,KAAL,CAAWb,YAAY,SAAvB,CAAR;AACAG,QAAQS,KAAKC,KAAL,CAAWb,YAAY,OAAvB,IAAkC,GAA1C;AACAI,SAASQ,KAAKC,KAAL,CAAWb,YAAY,KAAvB,IAAgC,GAAzC;AACAK,OAAOO,KAAKC,KAAL,CAAWb,YAAY,GAAvB,IAA8B,GAArC;AACAM,aAAaN,YAAY,GAAzB;AACAO,QAAQC,GAAR,CAAY,oCAAoCR,SAAhD;AACAO,QAAQC,GAAR,CAAY,wCAAwCN,KAAxC,GAAgD,GAAhD,GAAsDC,KAAtD,GAA8D,GAA9D,GAAoEC,MAApE,GAA6E,GAA7E,GAAmFC,IAAnF,GAA0F,GAA1F,GAAgGC,UAA5G;;AAEAV,SAASmB,aAAT,CACI;AACIC,UAAMlB,SAASkB,IADnB;AAEIC,cAAUnB,SAASmB,QAFvB;AAGIC,mBAAepB,SAASoB;AAH5B,CADJ,EAMI,UAAUC,GAAV,EAAeC,UAAf,EAA2B;AACvB,QAAID,GAAJ,EAAS;AACLZ,gBAAQc,KAAR,CAAcF,IAAIG,OAAlB;AACA;AACH;;AAEDrB,gBAAYmB,WAAWG,mBAAvB;AACArB,YAAQU,KAAKC,KAAL,CAAWZ,YAAY,SAAvB,CAAR;AACAE,YAAQS,KAAKC,KAAL,CAAWZ,YAAY,OAAvB,IAAkC,GAA1C;AACAG,aAASQ,KAAKC,KAAL,CAAWZ,YAAY,KAAvB,IAAgC,GAAzC;AACAI,WAAOO,KAAKC,KAAL,CAAWZ,YAAY,GAAvB,IAA8B,GAArC;AACAK,iBAAaL,YAAY,GAAzB;AACAM,YAAQC,GAAR,CAAY,8BAA8BP,SAA1C;AACAM,YAAQC,GAAR,CAAY,kCAAkCN,KAAlC,GAA0C,GAA1C,GAAgDC,KAAhD,GAAwD,GAAxD,GAA8DC,MAA9D,GAAuE,GAAvE,GAA6EC,IAA7E,GAAoF,GAApF,GAA0FC,UAAtG;AACH,CApBL","file":"version.js","sourcesContent":["/* Copyright (c) 2015, Oracle and/or its affiliates. All rights reserved. */\n\n/******************************************************************************\n *\n * You may not use the identified files except in compliance with the Apache\n * License, Version 2.0 (the \"License.\")\n *\n * You may obtain a copy of the License at\n * http://www.apache.org/licenses/LICENSE-2.0.\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * NAME\n *   version.js\n *\n * DESCRIPTION\n *   Shows the oracledb version attributes\n *\n *****************************************************************************/\n\nvar oracledb = require('oracledb');\nvar dbConfig = require('./dbconfig.js');\n\nvar addonVer, clientVer, serverVer;\nvar major, minor, update, port, portUpdate;\n\nconsole.log(\"Run at: \" + new Date());\nconsole.log(\"Node.js version: \" + process.version);\n\naddonVer = oracledb.version;\nmajor = Math.floor(addonVer / 10000);\nminor = Math.floor(addonVer / 100) % 100;\nupdate = addonVer % 100;\nconsole.log(\"Node-oracledb version: \" + addonVer);\nconsole.log(\"Node-oracledb text format: \" + major + \".\" + minor + \".\" + update);\n\nclientVer = oracledb.oracleClientVersion;\nmajor = Math.floor(clientVer / 100000000);\nminor = Math.floor(clientVer / 1000000) % 100;\nupdate = Math.floor(clientVer / 10000) % 100;\nport = Math.floor(clientVer / 100) % 100;\nportUpdate = clientVer % 100;\nconsole.log(\"Oracle Client library version: \" + clientVer);\nconsole.log(\"Oracle Client library text format: \" + major + \".\" + minor + \".\" + update + \".\" + port + \".\" + portUpdate);\n\noracledb.getConnection(\n    {\n        user: dbConfig.user,\n        password: dbConfig.password,\n        connectString: dbConfig.connectString\n    },\n    function (err, connection) {\n        if (err) {\n            console.error(err.message);\n            return;\n        }\n\n        serverVer = connection.oracleServerVersion;\n        major = Math.floor(serverVer / 100000000);\n        minor = Math.floor(serverVer / 1000000) % 100;\n        update = Math.floor(serverVer / 10000) % 100;\n        port = Math.floor(serverVer / 100) % 100;\n        portUpdate = serverVer % 100;\n        console.log(\"Oracle Database version: \" + serverVer);\n        console.log(\"Oracle Database text format: \" + major + \".\" + minor + \".\" + update + \".\" + port + \".\" + portUpdate);\n    });\n"]}