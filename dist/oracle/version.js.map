{"version":3,"sources":["../../src/oracle/version.js"],"names":["oracledb","require","dbConfig","addonVer","clientVer","serverVer","major","minor","update","port","portUpdate","console","log","Date","process","version","Math","floor","oracleClientVersion","getConnection","user","password","connectString","err","connection","error","message","oracleServerVersion"],"mappings":";;AAAA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;AAuBA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,WAAWD,QAAQ,eAAR,CAAf;;AAEA,IAAIE,QAAJ,EAAcC,SAAd,EAAyBC,SAAzB;AACA,IAAIC,KAAJ,EAAWC,KAAX,EAAkBC,MAAlB,EAA0BC,IAA1B,EAAgCC,UAAhC;;AAEAC,QAAQC,GAAR,CAAY,aAAa,IAAIC,IAAJ,EAAzB;AACAF,QAAQC,GAAR,CAAY,sBAAsBE,QAAQC,OAA1C;;AAEAZ,WAAWH,SAASe,OAApB;AACAT,QAAQU,KAAKC,KAAL,CAAWd,WAAW,KAAtB,CAAR;AACAI,QAAQS,KAAKC,KAAL,CAAWd,WAAW,GAAtB,IAA6B,GAArC;AACAK,SAASL,WAAW,GAApB;AACAQ,QAAQC,GAAR,CAAY,4BAA4BT,QAAxC;AACAQ,QAAQC,GAAR,CAAY,gCAAgCN,KAAhC,GAAwC,GAAxC,GAA8CC,KAA9C,GAAsD,GAAtD,GAA4DC,MAAxE;;AAEAJ,YAAYJ,SAASkB,mBAArB;AACAZ,QAAQU,KAAKC,KAAL,CAAWb,YAAY,SAAvB,CAAR;AACAG,QAAQS,KAAKC,KAAL,CAAWb,YAAY,OAAvB,IAAkC,GAA1C;AACAI,SAASQ,KAAKC,KAAL,CAAWb,YAAY,KAAvB,IAAgC,GAAzC;AACAK,OAAOO,KAAKC,KAAL,CAAWb,YAAY,GAAvB,IAA8B,GAArC;AACAM,aAAaN,YAAY,GAAzB;AACAO,QAAQC,GAAR,CAAY,oCAAoCR,SAAhD;AACAO,QAAQC,GAAR,CAAY,wCAAwCN,KAAxC,GAAgD,GAAhD,GAAsDC,KAAtD,GAA8D,GAA9D,GAAoEC,MAApE,GAA6E,GAA7E,GAAmFC,IAAnF,GAA0F,GAA1F,GAAgGC,UAA5G;;AAEAV,SAASmB,aAAT,CACI;AACIC,UAAMlB,SAASkB,IADnB;AAEIC,cAAUnB,SAASmB,QAFvB;AAGIC,mBAAepB,SAASoB;AAH5B,CADJ,EAMI,UAAUC,GAAV,EAAeC,UAAf,EAA2B;AACvB,QAAID,GAAJ,EAAS;AACLZ,gBAAQc,KAAR,CAAcF,IAAIG,OAAlB;AACA;AACH;;AAEDrB,gBAAYmB,WAAWG,mBAAvB;AACArB,YAAQU,KAAKC,KAAL,CAAWZ,YAAY,SAAvB,CAAR;AACAE,YAAQS,KAAKC,KAAL,CAAWZ,YAAY,OAAvB,IAAkC,GAA1C;AACAG,aAASQ,KAAKC,KAAL,CAAWZ,YAAY,KAAvB,IAAgC,GAAzC;AACAI,WAAOO,KAAKC,KAAL,CAAWZ,YAAY,GAAvB,IAA8B,GAArC;AACAK,iBAAaL,YAAY,GAAzB;AACAM,YAAQC,GAAR,CAAY,8BAA8BP,SAA1C;AACAM,YAAQC,GAAR,CAAY,kCAAkCN,KAAlC,GAA0C,GAA1C,GAAgDC,KAAhD,GAAwD,GAAxD,GAA8DC,MAA9D,GAAuE,GAAvE,GAA6EC,IAA7E,GAAoF,GAApF,GAA0FC,UAAtG;AACH,CApBL","file":"version.js","sourcesContent":["/* Copyright (c) 2015, Oracle and/or its affiliates. All rights reserved. */\r\n\r\n/******************************************************************************\r\n *\r\n * You may not use the identified files except in compliance with the Apache\r\n * License, Version 2.0 (the \"License.\")\r\n *\r\n * You may obtain a copy of the License at\r\n * http://www.apache.org/licenses/LICENSE-2.0.\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\r\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n *\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n *\r\n * NAME\r\n *   version.js\r\n *\r\n * DESCRIPTION\r\n *   Shows the oracledb version attributes\r\n *\r\n *****************************************************************************/\r\n\r\nvar oracledb = require('oracledb');\r\nvar dbConfig = require('./dbconfig.js');\r\n\r\nvar addonVer, clientVer, serverVer;\r\nvar major, minor, update, port, portUpdate;\r\n\r\nconsole.log(\"Run at: \" + new Date());\r\nconsole.log(\"Node.js version: \" + process.version);\r\n\r\naddonVer = oracledb.version;\r\nmajor = Math.floor(addonVer / 10000);\r\nminor = Math.floor(addonVer / 100) % 100;\r\nupdate = addonVer % 100;\r\nconsole.log(\"Node-oracledb version: \" + addonVer);\r\nconsole.log(\"Node-oracledb text format: \" + major + \".\" + minor + \".\" + update);\r\n\r\nclientVer = oracledb.oracleClientVersion;\r\nmajor = Math.floor(clientVer / 100000000);\r\nminor = Math.floor(clientVer / 1000000) % 100;\r\nupdate = Math.floor(clientVer / 10000) % 100;\r\nport = Math.floor(clientVer / 100) % 100;\r\nportUpdate = clientVer % 100;\r\nconsole.log(\"Oracle Client library version: \" + clientVer);\r\nconsole.log(\"Oracle Client library text format: \" + major + \".\" + minor + \".\" + update + \".\" + port + \".\" + portUpdate);\r\n\r\noracledb.getConnection(\r\n    {\r\n        user: dbConfig.user,\r\n        password: dbConfig.password,\r\n        connectString: dbConfig.connectString\r\n    },\r\n    function (err, connection) {\r\n        if (err) {\r\n            console.error(err.message);\r\n            return;\r\n        }\r\n\r\n        serverVer = connection.oracleServerVersion;\r\n        major = Math.floor(serverVer / 100000000);\r\n        minor = Math.floor(serverVer / 1000000) % 100;\r\n        update = Math.floor(serverVer / 10000) % 100;\r\n        port = Math.floor(serverVer / 100) % 100;\r\n        portUpdate = serverVer % 100;\r\n        console.log(\"Oracle Database version: \" + serverVer);\r\n        console.log(\"Oracle Database text format: \" + major + \".\" + minor + \".\" + update + \".\" + port + \".\" + portUpdate);\r\n    });\r\n"]}