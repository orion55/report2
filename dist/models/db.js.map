{"version":3,"sources":["../../src/models/db.js"],"names":["config","process","env","NODE_ENV","require","console","log","oracleDb","Db","doConnect","getConnection","db","doExecuteArr","connect","sql","arrDate","execute","resultSet","prefetchRows","doClose","close","doCloseResultSet"],"mappings":";;;;;;;;AAAA,IAAIA,SAAS,EAAb;;AAEA,QAAQC,QAAQC,GAAR,CAAYC,QAApB;AACI,SAAK,MAAL;AACIH,iBAASI,QAAQ,6BAAR,CAAT;AACA;AACJ,SAAK,MAAL;AACIJ,iBAASI,QAAQ,yBAAR,CAAT;AACA;AACJ,SAAK,YAAL;AACIJ,iBAASI,QAAQ,6BAAR,CAAT;AACA;AACJ;AACIC,gBAAQC,GAAR,CAAY,qBAAZ;AAXR;;AAcA,IAAIC,WAAWH,QAAQ,UAAR,CAAf;;IAEqBI,E;;;SACjBC,S,GAAY;AAAA,eAAMF,SAASG,aAAT,CAAuBV,OAAOW,EAA9B,CAAN;AAAA,K;;SACZC,Y,GAAe,UAACC,OAAD,EAAUC,GAAV,EAAeC,OAAf;AAAA,eAA2BF,QAAQG,OAAR,CAAgBF,GAAhB,EAAqBC,OAArB,EAA8B,EAACE,WAAW,IAAZ,EAAkBC,cAAc,CAAhC,EAA9B,CAA3B;AAAA,K;;SACfC,O,GAAU,UAACN,OAAD;AAAA,eAAaA,QAAQO,KAAR,EAAb;AAAA,K;;SACVC,gB,GAAmB,UAACJ,SAAD;AAAA,eAAeA,UAAUG,KAAV,EAAf;AAAA,K;;;kBAJFZ,E","file":"db.js","sourcesContent":["let config = '';\r\n\r\nswitch (process.env.NODE_ENV) {\r\n    case 'home':\r\n        config = require('../config/configDbHome.json');\r\n        break;\r\n    case 'work':\r\n        config = require('../config/configDb.json');\r\n        break;\r\n    case 'prodaction':\r\n        config = require('../config/configDbProd.json');\r\n        break;\r\n    default:\r\n        console.log(\"Sorry, no DB config\");\r\n}\r\n\r\nlet oracleDb = require('oracledb');\r\n\r\nexport default class Db {\r\n    doConnect = () => oracleDb.getConnection(config.db);\r\n    doExecuteArr = (connect, sql, arrDate) => connect.execute(sql, arrDate, {resultSet: true, prefetchRows: 1});\r\n    doClose = (connect) => connect.close();\r\n    doCloseResultSet = (resultSet) => resultSet.close();\r\n}\r\n"]}