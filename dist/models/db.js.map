{"version":3,"sources":["../../src/models/db.js"],"names":["config","process","env","NODE_ENV","require","oracleDb","Db","doConnect","getConnection","db","doExecuteArr","connect","sql","arr","execute","resultSet","prefetchRows","doExecute","doClose","close","doCloseResultSet"],"mappings":";;;;;;;;AAAA,IAAIA,SAAS,EAAb;;AAEA,QAAQC,QAAQC,GAAR,CAAYC,QAApB;AACI,SAAK,MAAL;AACIH,iBAASI,QAAQ,6BAAR,CAAT;AACA;AACJ,SAAK,MAAL;AACIJ,iBAASI,QAAQ,yBAAR,CAAT;AACA;AACJ,SAAK,YAAL;AACIJ,iBAASI,QAAQ,6BAAR,CAAT;AACA;AACJ;AACIJ,iBAASI,QAAQ,6BAAR,CAAT;AAXR;;AAcA,IAAIC,WAAWD,QAAQ,UAAR,CAAf;;IAEqBE,E;;;SACjBC,S,GAAY;AAAA,eAAMF,SAASG,aAAT,CAAuBR,OAAOS,EAA9B,CAAN;AAAA,K;;SACZC,Y,GAAe,UAACC,OAAD,EAAUC,GAAV,EAAeC,GAAf;AAAA,eAAuBF,QAAQG,OAAR,CAAgBF,GAAhB,EAAqBC,GAArB,EAA0B,EAACE,WAAW,IAAZ,EAAkBC,cAAc,CAAhC,EAA1B,CAAvB;AAAA,K;;SACfC,S,GAAY,UAACN,OAAD,EAAUC,GAAV,EAAeC,GAAf;AAAA,eAAuBF,QAAQG,OAAR,CAAgBF,GAAhB,EAAqBC,GAArB,EAA0B,EAACG,cAAc,CAAf,EAA1B,CAAvB;AAAA,K;;SACZE,O,GAAU,UAACP,OAAD;AAAA,eAAaA,QAAQQ,KAAR,EAAb;AAAA,K;;SACVC,gB,GAAmB,UAACL,SAAD;AAAA,eAAeA,UAAUI,KAAV,EAAf;AAAA,K;;;kBALFb,E","file":"db.js","sourcesContent":["let config = '';\r\n\r\nswitch (process.env.NODE_ENV) {\r\n    case 'home':\r\n        config = require('../config/configDbHome.json');\r\n        break;\r\n    case 'work':\r\n        config = require('../config/configDb.json');\r\n        break;\r\n    case 'prodaction':\r\n        config = require('../config/configDbProd.json');\r\n        break;\r\n    default:\r\n        config = require('../config/configDbProd.json');\r\n}\r\n\r\nlet oracleDb = require('oracledb');\r\n\r\nexport default class Db {\r\n    doConnect = () => oracleDb.getConnection(config.db);\r\n    doExecuteArr = (connect, sql, arr) => connect.execute(sql, arr, {resultSet: true, prefetchRows: 1});\r\n    doExecute = (connect, sql, arr) => connect.execute(sql, arr, {prefetchRows: 1});\r\n    doClose = (connect) => connect.close();\r\n    doCloseResultSet = (resultSet) => resultSet.close();\r\n}\r\n"]}